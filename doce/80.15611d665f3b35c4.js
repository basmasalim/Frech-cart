"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[80],{5080:(Z,l,r)=>{r.r(l),r.d(l,{WishlistComponent:()=>O});var o=r(6814),d=r(8129),u=r(756),h=r(1120),t=r(4769),p=r(0),m=r(6286),f=r(2425),g=r(9196);function v(e,_){if(1&e){const i=t.EpF();t.TgZ(0,"i",19),t.NdJ("click",function(){t.CHM(i);const c=t.oxw().$implicit,n=t.oxw(2);return t.KtG(n.addWishList(c._id))}),t.qZA()}}function x(e,_){if(1&e){const i=t.EpF();t.TgZ(0,"i",20),t.NdJ("click",function(){t.CHM(i);const c=t.oxw().$implicit,n=t.oxw(2);return t.KtG(n.removeFav(c._id))}),t.qZA()}}function C(e,_){1&e&&t._UZ(0,"i",22),2&e&&t.ekj("rating-color",!0)}function T(e,_){if(1&e&&(t.ynx(0),t.YNc(1,C,1,2,"i",21),t.BQk()),2&e){const i=_.$implicit,s=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",s.ratingsAverage>=i)}}const W=function(e){return["/productDetails",e]},E=function(){return[1,2,3,4,5]};function D(e,_){if(1&e){const i=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t.YNc(2,v,1,0,"i",7),t.YNc(3,x,1,0,"i",8),t.TgZ(4,"header",9)(5,"div",10)(6,"figure"),t._UZ(7,"img",11),t.qZA()(),t.TgZ(8,"h3",12),t._uU(9),t.ALo(10,"cuttext"),t.qZA(),t.TgZ(11,"h4",13),t._uU(12),t.qZA(),t.TgZ(13,"div",14)(14,"span"),t._uU(15),t.ALo(16,"currency"),t.qZA(),t.TgZ(17,"span"),t.YNc(18,T,2,1,"ng-container",15),t.TgZ(19,"span",16),t._uU(20),t.qZA()()()(),t.TgZ(21,"footer")(22,"button",17,18),t.NdJ("click",function(){const n=t.CHM(i).$implicit,a=t.MAs(23),M=t.oxw(2);return t.KtG(M.addProduct(n._id,a))}),t._uU(24," add to cart "),t.qZA()()()()}if(2&e){const i=_.$implicit,s=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!s.wishListData.includes(i._id)),t.xp6(1),t.Q6J("ngIf",s.wishListData.includes(i._id)),t.xp6(1),t.Q6J("routerLink",t.VKq(17,W,i._id)),t.xp6(3),t.Q6J("src",i.imageCover,t.LSH)("alt",i.title)("title",i.title),t.xp6(2),t.Oqu(t.xi3(10,11,i.title,3)),t.xp6(3),t.Oqu(i.category.name),t.xp6(3),t.Oqu(t.xi3(16,14,i.price,"E\xa3")),t.xp6(3),t.Q6J("ngForOf",t.DdM(19,E)),t.xp6(2),t.hij(" ",i.ratingsAverage,"")}}function A(e,_){if(1&e&&(t.TgZ(0,"section",1)(1,"h2",2),t._uU(2,"popular products"),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,D,25,20,"div",4),t.qZA()()),2&e){const i=t.oxw();t.xp6(4),t.Q6J("ngForOf",i.products)}}let O=(()=>{class e{constructor(i,s,c,n,a){this._ProductService=i,this._CartService=s,this._ToastrService=c,this._Renderer2=n,this._WishlistService=a,this.products=[],this.wishListData=[],this.term=""}ngOnInit(){this._WishlistService.getWishlist().subscribe({next:i=>{this.products=i.data;const s=i.data.map(c=>c._id);this.wishListData=s}})}addProduct(i,s){this._Renderer2.setAttribute(s,"disabled","true"),this._CartService.addCart(i).subscribe({next:c=>{this._ToastrService.success(c.message,"Fresh Cart"),this._Renderer2.removeAttribute(s,"disabled"),this._CartService.cartNumber.next(c.numOfCartItems)},error:c=>{this._Renderer2.removeAttribute(s,"disabled")}})}addWishList(i){this._WishlistService.addWishlist(i).subscribe({next:s=>{this._ToastrService.success(s.message),this._WishlistService.favNumber.next(s.data.length),this.wishListData=s.data}})}removeFav(i){this._WishlistService.removeWishlist(i).subscribe({next:s=>{this._ToastrService.success(s.message),this._WishlistService.favNumber.next(s.data.length),this.wishListData=s.data;const c=this.products.filter(n=>this.wishListData.includes(n._id));this.products=c}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(p.M),t.Y36(m.N),t.Y36(f._W),t.Y36(t.Qsj),t.Y36(g.M))};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","py-4",4,"ngIf"],[1,"py-4"],[1,"text-capitalize","text-main"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-3 col-xl-2 my-2",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3","col-xl-2","my-2"],[1,"product","h-100"],["class","fa-regular fa-heart heart fs-2x",3,"click",4,"ngIf"],["class","fa-solid fa-heart fa-2x heart text-danger",3,"click",4,"ngIf"],["role","button",3,"routerLink"],[1,"image","overflow-hidden"],[1,"w-100",3,"src","alt","title"],[1,"small"],[1,"h6","text-main"],[1,"product-footer","d-flex","align-items-center","justify-content-between","small"],[4,"ngFor","ngForOf"],[1,"text-muted"],[1,"main-btn","text-capitalize","w-100","mt-1",3,"click"],["btnAdd",""],[1,"fa-regular","fa-heart","heart","fs-2x",3,"click"],[1,"fa-solid","fa-heart","fa-2x","heart","text-danger",3,"click"],["class","fas fa-star",3,"rating-color",4,"ngIf"],[1,"fas","fa-star"]],template:function(s,c){1&s&&t.YNc(0,A,5,1,"section",0),2&s&&t.Q6J("ngIf",c.products.length>0)},dependencies:[o.ez,o.sg,o.O5,o.H9,h.rH,d.r,u.bB]})}return e})()}}]);