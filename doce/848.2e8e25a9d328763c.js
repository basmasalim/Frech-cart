"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[848],{848:(m,_,o)=>{o.r(_),o.d(_,{AllordersComponent:()=>v});var d=o(6814),p=o(8784),t=o(4769),u=o(6286);function n(e,a){if(1&e&&(t.TgZ(0,"div",14),t._UZ(1,"img",15),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Q6J("src",r.product.imageCover,t.LSH)("alt",r.product.title)}}function h(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"paid and delivered"),t.qZA())}function s(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Paid and didn't delivered yet"),t.qZA())}function i(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1," Not paid"),t.qZA())}function g(e,a){if(1&e&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t.YNc(3,n,2,2,"div",9),t.qZA(),t.TgZ(4,"div",10)(5,"h5",11),t._uU(6),t.qZA(),t.TgZ(7,"p",12),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10," order State : "),t.YNc(11,h,2,0,"span",13),t.YNc(12,s,2,0,"span",13),t.YNc(13,i,2,0,"span",13),t.qZA()()()()),2&e){const r=a.$implicit;t.xp6(3),t.Q6J("ngForOf",r.cartItems),t.xp6(3),t.hij(" order price : ",r.totalOrderPrice," EGP "),t.xp6(2),t.hij("payment method: ",r.paymentMethodType,""),t.xp6(3),t.Q6J("ngIf",r.isPaid&&r.isDelivered),t.xp6(1),t.Q6J("ngIf",r.isPaid&&!r.isDelivered),t.xp6(1),t.Q6J("ngIf",!r.isPaid)}}function f(e,a){if(1&e&&(t.TgZ(0,"section",1)(1,"div",2)(2,"h2",3),t._uU(3,"all your orders"),t.qZA(),t.TgZ(4,"div",4),t.YNc(5,g,14,6,"div",5),t.qZA()()()),2&e){const r=t.oxw();t.xp6(5),t.Q6J("ngForOf",r.allUserOrders)}}let v=(()=>{class e{constructor(r){this._CartService=r}ngOnInit(){let r=localStorage.getItem("eToken"),c=(0,p.o)(r);this.userData=c,this._CartService.allOrders(this.userData.id).subscribe({next:l=>{console.log(l),this.allUserOrders=l},error:l=>{console.log(l)}})}static#t=this.\u0275fac=function(c){return new(c||e)(t.Y36(u.N))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-allorders"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","py-4 text-center",4,"ngIf"],[1,"py-4","text-center"],[1,"container"],[1,"text-main","fw-bolder","mb-3","text-capitalize"],[1,"row","g-4"],["role","button","class","col-md-6",4,"ngFor","ngForOf"],["role","button",1,"col-md-6"],[1,"product","mx-auto"],[1,"imgContainer","d-flex"],["class","col-3",4,"ngFor","ngForOf"],[1,"card-footer","text-start","bg-body-secondary","p-4"],[1,"card-title"],[1,"mb-0"],[4,"ngIf"],[1,"col-3"],["height","220","width","200",1,"card-img-top",3,"src","alt"]],template:function(c,l){1&c&&t.YNc(0,f,6,1,"section",0),2&c&&t.Q6J("ngIf",l.allUserOrders)},dependencies:[d.ez,d.sg,d.O5]})}return e})()},6286:(m,_,o)=>{o.d(_,{N:()=>u});var d=o(5619),p=o(4769),t=o(9862);let u=(()=>{class n{constructor(s){this._HttpClient=s,this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNumber=new d.X(0)}addCart(s){return this._HttpClient.post(this.baseUrl+"cart",{productId:s})}getCartUser(){return this._HttpClient.get(this.baseUrl+"cart")}removeCartItem(s){return this._HttpClient.delete(this.baseUrl+`cart/${s}`)}updateCartCount(s,i){return this._HttpClient.put(this.baseUrl+`cart/${s}`,{count:i})}clearCart(){return this._HttpClient.delete(this.baseUrl+"cart")}checkout(s,i){return this._HttpClient.post(this.baseUrl+`orders/checkout-session/${s}?url=http://localhost:4200`,{shippingAddress:i})}allOrders(s){return this._HttpClient.get(this.baseUrl+`orders/user/${s}`)}static#t=this.\u0275fac=function(i){return new(i||n)(p.LFG(t.eN))};static#e=this.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);